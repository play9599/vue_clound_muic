<template>
  <div class="operation">
      <div @click="changeStatus">
          <svg v-if=" !volume_status" t="1622366358445" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1221" width="24" height="24"><path d="M596.194 138.74A87.977 87.977 0 0 1 622 200.984v624.03C622 873.608 582.6 913 534 913a88.008 88.008 0 0 1-62.257-25.801l-160.029-160.16a48 48 0 0 0-33.955-14.073l-61.759 0.001c-70.692 0-128-57.297-128-127.978V441.015c0-70.68 57.308-127.978 128-127.978h61.755a48 48 0 0 0 33.955-14.073L471.743 138.8c34.35-34.377 90.068-34.405 124.451-0.062z m-79.173 45.297L352.299 348.886a96 96 0 0 1-67.907 28.144H216c-35.346 0-64 28.648-64 63.987v143.97c0 35.339 28.654 63.987 64 63.987l68.394-0.001a96 96 0 0 1 67.91 28.144L517.02 841.964A24.003 24.003 0 0 0 534 849c13.255 0 24-10.743 24-23.995v-624.01a23.992 23.992 0 0 0-6.72-16.651l-0.318-0.325-0.292-0.286c-9.398-9.078-24.378-8.975-33.65 0.304z m421.866 196.628c12.517 12.517 12.517 32.811 0 45.329l-88.283 88.281 88.283 88.283c12.517 12.517 12.517 32.811 0 45.329-12.518 12.517-32.812 12.517-45.33 0l-88.282-88.283-88.281 88.283c-12.518 12.517-32.812 12.517-45.33 0-12.517-12.518-12.517-32.812 0-45.33l88.282-88.282-88.281-88.281c-12.518-12.518-12.518-32.812 0-45.33 12.517-12.517 32.811-12.517 45.329 0l88.281 88.282 88.283-88.281c12.517-12.518 32.811-12.518 45.329 0z" fill="#333333" p-id="1222"></path></svg>
          <svg v-else t="1622366471290" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="2056" width="24" height="24"><path d="M596 139c16.71 16.242 26 38.634 26 62v624c0 48.608-39.423 88-88 88-23.423 0-45.833-9.282-62-26L312.059 727.059A48 48 0 0 0 278.118 713H216c-70.657 0.295-128-57.003-128-128V441c0-70.338 57.343-127.636 128-128h61.198a48 48 0 0 0 33.844-13.962L472 139c34.021-34.576 89.774-34.604 124 0z m-79 45L352.118 348.882A96 96 0 0 1 284.235 377H216c-35.323 0.358-64 29.006-64 64v144c0 35.297 28.106 63.728 62.942 64h69.293a96 96 0 0 1 67.883 28.118L517 842a24.112 24.112 0 0 0 17 7c13.246 0 24-10.743 24-24V201c0-6.221-2.415-12.189-7-17-9.741-9.345-24.733-9.242-34 0z m298.153 87.989C883.63 332.312 924 422.217 924 518.999c0 96.784-40.37 186.689-108.847 247.012-13.262 11.683-33.482 10.403-45.165-2.859-11.682-13.261-10.402-33.482 2.86-45.164C827.493 669.849 860 597.455 860 519s-32.507-150.85-87.152-198.988c-13.262-11.682-14.542-31.903-2.86-45.164 11.683-13.262 31.903-14.542 45.165-2.86z m-95.508 93.39C760.867 403.048 785 458.494 785 517.973c0 59.513-24.161 114.988-65.425 152.659-13.052 11.915-33.292 10.994-45.208-2.058-11.796-12.922-11.011-32.888 1.67-44.848l0.388-0.36 0.834-0.768C704.657 597.13 721 559.193 721 517.974c0-41.613-16.656-79.88-44.53-105.352-13.045-11.922-13.956-32.163-2.034-45.209 11.922-13.046 32.163-13.957 45.209-2.035z" fill="#333333" p-id="2057"></path></svg>
      </div>
      <input type="range" id="range" step="1" min="0" max="100" value="50" ref="range">
    <a @click="btn" href="javascript:;" title="播放列表">
      <svg t="1620454226134" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="8211" width="30" height="30"><path d="M128 432c0-35.2 25.104-49.888 55.776-32.624l144.432 81.248c30.672 17.264 30.672 45.504 0 62.752l-144.432 81.248C153.104 641.888 128 627.2 128 592V432zM896 688a32 32 0 0 1-32 32H480a32 32 0 1 1 0-64h384a32 32 0 0 1 32 32zM896 160a32 32 0 0 1-32 32H160a32 32 0 1 1 0-64h704a32 32 0 0 1 32 32zM896 864a32 32 0 0 1-32 32H160a32 32 0 1 1 0-64h704a32 32 0 0 1 32 32zM896 336a32 32 0 0 1-32 32H480a32 32 0 1 1 0-64h384a32 32 0 0 1 32 32zM896 512a32 32 0 0 1-32 32H480a32 32 0 1 1 0-64h384a32 32 0 0 1 32 32z" p-id="8212"></path></svg>
    </a>
  </div>
</template>

<script>
	export default {
		name: "operation",
      data(){
			  return {
			  	volume_status:true
        }
      },
      watch:{
			  volume_status(newVal){
            if (newVal === false){
				        this.$refs.range.value = 0
				        this.$bus.$emit("volume",0)
            }
          }
      },
      methods:{
			  btn(){
            this.$store.commit("change_show")
        },
		  changeStatus(){
			  	this.volume_status = ! this.volume_status
      }
      },
      mounted() {
    //      注册range拖动事件
          this.$refs.range.onchange = e=>{
			          this.$bus.$emit("volume",e.target.value/100)
			          if (e.target.value === "0"){
                    this.volume_status = false
			          }else {
					          this.volume_status = true
                }
          }
	  }
  }
</script>

<style scoped lang="scss">
.operation{
  flex: 1;
  display: flex;
  justify-content: flex-end;
    div{
        align-self: center;
        margin-right: 1em;
    }
    #range{
        width: 7em;
    }
  a{
    margin: 20px;
  }
}
</style>